## Cardinality와 Selectivity란?

### Cardinality
카디널리티는 `고유한 값의 개수`를 의미한다.  
예를 들어, 사용자 테이블의 성별 컬럼이 있다면 값은 `M`과 `F` 두개로 이루어져 있으므로 카디널리티는 2  
반면에 사용자 ID나 이메일같은 컬럼은 거의 모든 행이 다른 값을 가지므로 카디널리티가 매우 높다

### Selectivity
선택도는 전체 데이터 중 특정 조건으로 선택되는 데이터의 비율을 말한다  
계산공식 : 카디널리티 / 전체 레코드의 수

선택도가 높을수록 (1에 가까울수록) 인덱스 효율이 좋다

```sql
-- 성별 컬럼 (카디널리티: 2, 선택도: 2/10,000 = 0.0002)
gender: M(5,000명), F(5,000명)

-- 나이 컬럼 (카디널리티: 80, 선택도: 80/10,000 = 0.008)  
age: 1세~80세

-- 사용자 ID (카디널리티: 10,000, 선택도: 10,000/10,000 = 1.0)
user_id: 1~10,000 (모두 고유값)
```

### 그래서 어디에 쓰는데?
카디널리티와 선택도는 인덱스 성능에 직접적인 영향을 준다  

+ 높은 선택도 (High Selectivity)
    - 인덱스 스캔으로 적은 수의 레코드만 반환
    - B-Tree 인덱스에서 매우 효율적
    - 예: WHERE user_id = 1234

+ 낮은 선택도 (Low Selectivity)
    - 인덱스 스캔해도 많은 레코드 반환
    - 오히려 Full Table Scan이 더 효율적일 수 있음
    - 예: WHERE gender = 'M' (전체의 50% 반환)

### 실무에서의 판단 기준
    
+ 선택도 > 0.1: 인덱스 효과 좋음
+ 선택도 0.01~0.1: 상황에 따라 판단
+ 선택도 < 0.01: 인덱스 효과 의문, 다른 전략 고려